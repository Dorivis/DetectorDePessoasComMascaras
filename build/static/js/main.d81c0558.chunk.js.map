{"version":3,"sources":["uploads/videos/VideoMaskedAndNonMaskedPeople.mp4","uploads/videos/AdamTeste.mp4","uploads/audios/en/alert.mp3","uploads/images/map.jpg","components/Header/styles.js","config/history.js","components/Header/index.js","components/MainSection/styles.js","components/VideoCarousel/styles.js","components/VideoCarousel/index.js","components/MainSection/index.js","components/Footer/styles.js","components/Footer/index.js","pages/Home/index.js","useModel.js","cloudAnnotation/useVideo.js","cloudAnnotation/retinaCanvas.js","cloudAnnotation/renderPredictions.js","context/Count.js","components/Info/styles.js","components/Info/index.js","cloudAnnotation/ObjectDetectionVideo.js","components/Map/styles.js","components/Map/index.js","pages/Detection/styles.js","pages/Detection/index.js","routes.js","index.js"],"names":["module","exports","__webpack_require__","p","Container","styled","div","_templateObject","Brand","_templateObject2","Name","_templateObject3","history","createBrowserHistory","Header","handleClick","push","react_default","a","createElement","onClick","src","alt","styles_templateObject","Subtitle","styles_templateObject2","VideoCarousel_styles_templateObject","CarouselModel","Carousel","VideoCarousel_styles_templateObject2","Video","video","styles_templateObject3","VideoCarousel","handleSelectedVideo","window","location","assign","href","substring","length","VideoCarousel_styles_Container","swipeable","draggable","showDots","centerMode","focusOnSelect","responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","mobile","ssr","infinite","autoPlaySpeed","keyBoardControl","customTransition","transitionDuration","containerClass","removeArrowOnDeviceType","dotListClass","itemClass","renderButtonGroupOutside","VideoFile","controls","muted","preload","type","VideoTest","MainSection","styles_Container","components_VideoCarousel","Footer_styles_templateObject","Footer","Footer_styles_Container","Home","components_Header","components_MainSection","components_Footer","useModel","modelPath","_useState","useState","_useState2","Object","slicedToArray","model","setModel","useEffect","models","load","then","useVideo","videoRef","onLoaded","getRetinaContext","canvas","ctx","getContext","scale","devicePixelRatio","width","height","setWidth","w","style","setHeight","h","clearAll","clearRect","x","y","setFont","font","size","parseInt","retinaFont","replace","setTextBaseLine","textBaseline","setStrokeStyle","strokeStyle","setLineWidth","lineWidth","strokeRect","setFillStyle","fillStyle","measureText","text","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","fillRect","fillText","getLabelText","prediction","scoreText","score","toFixed","concat","label","renderPredictions","predictions","textHeight","forEach","bbox","predictionText","Math","round","textWidth","border","xPadding","yPadding","CountContext","createContext","CountProvider","children","count","setCount","Provider","value","useCount","context","useContext","Info_styles_templateObject","shade","personWithMask","personWithoutMask","audio","Audio","alerta","Info_styles_Container","color","play","alert","queryString","search","URLSearchParams","get","ObjectDetectionVideo","React","memo","onPrediction","fit","mirrored","render","setPersonWithMask","_useState3","_useState4","setPersonWithoutMask","useRef","canvasRef","_useCount","useWebcam","detectFrame","useCallback","asyncToGenerator","regenerator_default","mark","_callee","wantedWidth","wantedHeight","videoWidth","videoHeight","scaleX","scaleY","xOffset","yOffset","offsetPredictions","withMask","withoutMask","wrap","_context","prev","next","detect","current","sent","offsetWidth","offsetHeight","map","objectSpread2","filter","index","array","class","requestAnimationFrame","stop","position","left","top","objectFit","transform","display","flexDirection","autoPlay","playsInline","ref","Info","Map_styles_templateObject","Quadrado","rect","Map_styles_templateObject2","props","Map","Map_styles_Container","mapImage","Content","Detection_styles_templateObject","Detection","className","cloudAnnotation_ObjectDetectionVideo","components_Map","Routes","react_router","path","exact","component","App","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.d81c0558.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/VideoMaskedAndNonMaskedPeople.fbc363b3.mp4\";","module.exports = __webpack_public_path__ + \"static/media/AdamTeste.891fcd0a.mp4\";","module.exports = __webpack_public_path__ + \"static/media/alert.fec56da6.mp3\";","module.exports = __webpack_public_path__ + \"static/media/map.508641e1.jpg\";","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n    width: 100%;\r\n    height: 90px;\r\n    background-color: navy;\r\n    box-shadow: 0px 2px 4px gray;\r\n    z-index: 5;\r\n    display: flex;\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n    margin-bottom: 25px;\r\n`;\r\n\r\nexport const Brand = styled.div`\r\n    img {\r\n        height: 80px;\r\n        margin: 5px 0 5px 10px;\r\n    }\r\n\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nexport const Name = styled.p`\r\n    color: #FFFFFF;\r\n    font-size: 23px;\r\n    font-weight: bold;\r\n    margin: auto 0 auto 8px;\r\n\r\n    :hover {\r\n        cursor: pointer;\r\n    }\r\n`;","import { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;","import React from 'react';\r\n\r\nimport { Container, Brand, Name } from './styles';\r\n\r\nimport history from '../../config/history';\r\n\r\nfunction Header() {\r\n    function handleClick(){\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Brand onClick={handleClick}>\r\n                <img src=\"https://i.imgur.com/hqVtTM4.png\" alt=\"LogoMask\" />\r\n            </Brand>\r\n            <Name onClick={handleClick}>Mask Detection</Name>\r\n        </Container>\r\n    );  \r\n}\r\n\r\nexport default Header;","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n    padding: 20px;\r\n`;\r\n\r\nexport const Subtitle = styled.p`\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n    font-size: 30px;\r\n    color: #333;\r\n    font-weight: bold;\r\n    text-align: center;\r\n`;","import styled from 'styled-components';\r\nimport Carousel from 'react-multi-carousel';\r\n\r\nexport const Container = styled.div`\r\n    margin: 10px 0 60px 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const CarouselModel = styled(Carousel)`\r\n    div {\r\n        margin-left: 50px;\r\n    }\r\n`;\r\n\r\nexport const Video = styled.video`\r\n    width: 600px;\r\n    height: 350px;\r\n`;\r\n","import React from 'react';\r\nimport 'react-multi-carousel/lib/styles.css';\r\n\r\nimport { Container, CarouselModel ,Video } from './styles';\r\n\r\nimport VideoFile from '../../uploads/videos/VideoMaskedAndNonMaskedPeople.mp4';\r\nimport VideoTest from '../../uploads/videos/AdamTeste.mp4';\r\n\r\nfunction VideoCarousel() {\r\n\r\n    const responsive = {\r\n        superLargeDesktop: {\r\n            breakpoint: { max: 400, min: 3000 },\r\n            items: 1\r\n        },\r\n        desktop: {\r\n            breakpoint: { max: 2024, min: 1024 },\r\n            items: 1\r\n        },\r\n        tablet: {\r\n            breakpoint: { max: 1024, min: 464 },\r\n            items: 2\r\n        },\r\n        mobile: {\r\n            breakpoint: { max: 464, min: 0 },\r\n            items: 1\r\n        }\r\n    };\r\n\r\n    function handleSelectedVideo(video) {\r\n      window.location.assign(window.location.href + \"detection/?video=\" + window.location.href.substring(0, window.location.href.length - 1) + video );\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <CarouselModel\r\n                swipeable={false}\r\n                draggable={false}\r\n                showDots={true}\r\n                centerMode={true}\r\n                focusOnSelect={true}\r\n                responsive={responsive}\r\n                ssr={true}\r\n                infinite={true}\r\n                autoPlaySpeed={1000}\r\n                keyBoardControl={true}\r\n                customTransition=\"transform .5\"\r\n                transitionDuration={500}\r\n                containerClass=\"carousel-container\"\r\n                removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\r\n                dotListClass=\"custom-dot-list-style\"\r\n                itemClass=\"carousel-item-padding-40-px\"\r\n                renderButtonGroupOutside={true}\r\n            >\r\n                <div onClick={() => handleSelectedVideo(VideoFile)}>\r\n                    <Video controls muted preload=\"auto\">\r\n                        <source src={VideoFile} type=\"video/mp4\" />\r\n                        Your browser does not support the video tag.\r\n                    </Video>\r\n                </div>\r\n                <div onClick={() => handleSelectedVideo(VideoTest)}>\r\n                    <Video controls muted preload=\"auto\">\r\n                        <source src={VideoTest} type=\"video/mp4\" />\r\n                        Your browser does not support the video tag.\r\n                    </Video>\r\n                </div>\r\n            </CarouselModel>\r\n        </Container>\r\n\r\n    );\r\n}\r\n\r\nexport default VideoCarousel;\r\n","import React from 'react';\r\n\r\nimport { Subtitle, Container } from './styles';\r\nimport VideoCarousel from '../VideoCarousel';\r\n\r\nfunction MainSection() {\r\n\r\n    return (\r\n        <Container>\r\n            <Subtitle>Select a video below:</Subtitle>\r\n\r\n            <VideoCarousel />\r\n        </Container>\r\n    );\r\n}   \r\n\r\nexport default MainSection;","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n    height: 100px;\r\n    background-color: black;\r\n    padding: 5px;\r\n    margin-top: 20px;\r\n    text-align: center;\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n    color: white;\r\n    box-shadow: 0px 1px 2px gray, 0px -3px 5px gray;\r\n\r\n    p {\r\n        margin-top: 20px;\r\n    }\r\n`;","import React from 'react';\r\n\r\nimport { Container } from './styles';\r\n\r\nfunction Footer() {\r\n\r\n    return (\r\n        <Container><p>© Mask Detection, Inc. All rights reserved.</p></Container>\r\n    );  \r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nimport Header from '../../components/Header';\r\nimport MainSection from '../../components/MainSection';\r\nimport Footer from '../../components/Footer';\r\n\r\nexport default function Home() {\r\n    return (\r\n        <div>\r\n            <Header />\r\n\r\n            <MainSection />\r\n\r\n            <Footer />\r\n        </div>\r\n    );\r\n}","import { useEffect, useState } from 'react'\r\n\r\nimport models from '@cloud-annotations/models'\r\n\r\nconst useModel = (modelPath) => {\r\n  const [model, setModel] = useState()\r\n  useEffect(() => {\r\n    models.load(modelPath).then((model) => {\r\n      setModel(model)\r\n    })\r\n  }, [modelPath])\r\n  return model\r\n}\r\n\r\nexport default useModel\r\n","import { useEffect } from 'react';\r\n\r\nconst useVideo = (videoRef, onLoaded) => {\r\n  useEffect(() => {\r\n      onLoaded();\r\n  }, [onLoaded, videoRef]);\r\n}\r\n\r\nexport default useVideo;\r\n","export const getRetinaContext = (canvas) => {\r\n  const ctx = canvas.getContext('2d');\r\n  const scale = window.devicePixelRatio;\r\n  let width = canvas.width / scale;\r\n  let height = canvas.height / scale;\r\n  return {\r\n    setWidth: (w) => {\r\n      width = w;\r\n      canvas.style.width = w + 'px';\r\n      canvas.width = w * scale;\r\n    },\r\n    setHeight: (h) => {\r\n      height = h;\r\n      canvas.style.height = h + 'px';\r\n      canvas.height = h * scale;\r\n    },\r\n    width: width,\r\n    height: height,\r\n    clearAll: () => {\r\n      return ctx.clearRect(0, 0, width * scale, height * scale);\r\n    },\r\n    clearRect: (x, y, width, height) => {\r\n      return ctx.clearRect(x * scale, y * scale, width * scale, height * scale);\r\n    },\r\n    setFont: (font) => {\r\n      const size = parseInt(font, 10) * scale;\r\n      const retinaFont = font.replace(/^\\d+px/, size + 'px');\r\n      ctx.font = retinaFont;\r\n    },\r\n    setTextBaseLine: (textBaseline) => {\r\n      ctx.textBaseline = textBaseline;\r\n    },\r\n    setStrokeStyle: (strokeStyle) => {\r\n      ctx.strokeStyle = strokeStyle;\r\n    },\r\n    setLineWidth: (lineWidth) => {\r\n      ctx.lineWidth = lineWidth * scale;\r\n    },\r\n    strokeRect: (x, y, width, height) => {\r\n      return ctx.strokeRect(x * scale, y * scale, width * scale, height * scale);\r\n    },\r\n    setFillStyle: (fillStyle) => {\r\n      ctx.fillStyle = fillStyle;\r\n    },\r\n    measureText: (text) => {\r\n      const metrics = ctx.measureText(text);\r\n      return {\r\n        width: metrics.width / scale,\r\n        actualBoundingBoxLeft: metrics.actualBoundingBoxLeft / scale,\r\n        actualBoundingBoxRight: metrics.actualBoundingBoxRight / scale,\r\n        actualBoundingBoxAscent: metrics.actualBoundingBoxAscent / scale,\r\n        actualBoundingBoxDescent: metrics.actualBoundingBoxDescent / scale,\r\n      };\r\n    },\r\n    fillRect: (x, y, width, height) => {\r\n      return ctx.fillRect(x * scale, y * scale, width * scale, height * scale);\r\n    },\r\n    fillText: (text, x, y) => {\r\n      return ctx.fillText(text, x * scale, y * scale);\r\n    },\r\n  }\r\n}\r\n","const getLabelText = (prediction) => {\r\n  const scoreText = (prediction.score * 100).toFixed(1);\r\n  return `${prediction.label} ${scoreText}%`;\r\n}\r\n\r\nexport const renderPredictions = (ctx, predictions) => {\r\n  // Font options.\r\n  const font = `${16}px 'ibm-plex-sans', Helvetica Neue, Arial, sans-serif`;\r\n  ctx.setFont(font);\r\n  ctx.setTextBaseLine('top');\r\n  const border = 4;\r\n  const xPadding = 16;\r\n  const yPadding = 8;\r\n  const offset = 6;\r\n  const textHeight = parseInt(font, 10);\r\n\r\n  predictions.forEach((prediction) => {\r\n    const x = prediction.bbox[0];\r\n    const y = prediction.bbox[1];\r\n    const width = prediction.bbox[2];\r\n    const height = prediction.bbox[3];\r\n\r\n    const predictionText = getLabelText(prediction);\r\n\r\n    // Draw the bounding box.\r\n    ctx.setStrokeStyle('#0062ff');\r\n    ctx.setLineWidth(border);\r\n\r\n    ctx.strokeRect(\r\n      Math.round(x),\r\n      Math.round(y),\r\n      Math.round(width),\r\n      Math.round(height)\r\n    );\r\n    // Draw the label background.\r\n    ctx.setFillStyle('#0062ff');\r\n    const textWidth = ctx.measureText(predictionText).width;\r\n    ctx.fillRect(\r\n      Math.round(x - border / 2),\r\n      Math.round(y - (textHeight + yPadding) - offset),\r\n      Math.round(textWidth + xPadding),\r\n      Math.round(textHeight + yPadding)\r\n    );\r\n  })\r\n\r\n  predictions.forEach((prediction) => {\r\n    const x = prediction.bbox[0];\r\n    const y = prediction.bbox[1];\r\n\r\n    const predictionText = getLabelText(prediction);\r\n    // Draw the text last to ensure it's on top.\r\n    ctx.setFillStyle('#ffffff');\r\n    ctx.fillText(\r\n      predictionText,\r\n      Math.round(x - border / 2 + xPadding / 2),\r\n      Math.round(y - (textHeight + yPadding) - offset + yPadding / 2)\r\n    );\r\n  });\r\n}\r\n","import React, { createContext, useState, useContext } from 'react';\r\n\r\nconst CountContext = createContext();\r\n\r\nexport default function CountProvider({ children }) {\r\n    const [count, setCount] = useState(0);\r\n\r\n    return (\r\n        <CountContext.Provider\r\n            value={{\r\n                count,\r\n                setCount\r\n            }}\r\n        >\r\n            {children}   \r\n        </CountContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useCount() {\r\n    const context = useContext(CountContext);\r\n    const { count, setCount } = context;\r\n    return { count, setCount };\r\n}","import styled from 'styled-components';\r\nimport { shade } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n    margin-left: 20px;\r\n\r\n    h3 {\r\n        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n        font-size: 25px;\r\n        color: #333;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    p {\r\n        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n        font-weight: bold;\r\n        font-size: 15px;\r\n        color: #333;\r\n    }\r\n\r\n    button {\r\n        margin-top: 20px;\r\n        width: 210px;\r\n        height: 30px;\r\n        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n        font-weight: bold;\r\n        font-size: 15px;\r\n        color: #fff;\r\n        background: #FF8C00;\r\n        border: 1px solid #FF8C00;\r\n        border-radius: 5px;\r\n        box-shadow: 0px 2px 4px gray;\r\n\r\n        :hover {\r\n            cursor: pointer;\r\n            background: ${shade(0.1, '#FF8C00')};\r\n            border-color: ${shade(0.1, '#FF8C00')};\r\n        }\r\n    }\r\n`;","import React from 'react';\r\n\r\nimport { Container } from './styles';\r\nimport alerta from '../../uploads/audios/en/alert.mp3';\r\n\r\nfunction Header({ personWithMask, personWithoutMask, count }) {\r\n\r\n    let audio = new Audio(alerta);\r\n\r\n    const start = () => {\r\n        audio.play();\r\n        alert('Warning sound');\r\n    }\r\n\r\n    return (\r\n    <Container>\r\n        <h3>Camera X01</h3>\r\n        <p>Location/Region: Hall 01 / Near the exit / Gate 01</p><br/>\r\n        <p style={{color: 'green'}}>People with mask: {personWithMask}</p>\r\n        <p style={{color: 'red'}}>People without a mask: {personWithoutMask}</p>\r\n        <p>Total people there: {count}</p>\r\n\r\n        <button onClick={start}>Send Alert</button>\r\n      </Container>\r\n    );  \r\n}\r\n\r\nexport default Header;","import React, { useRef, useCallback, useState } from 'react';\r\n\r\nimport useWebcam from './useVideo';\r\nimport { getRetinaContext } from './retinaCanvas';\r\nimport { renderPredictions } from './renderPredictions';\r\nimport { useCount } from '../context/Count';\r\nimport Info from '../components/Info';\r\n\r\nconst queryString = window.location.search;\r\nconst urlParams = new URLSearchParams(queryString);\r\nconst video = urlParams.get('video');\r\n\r\nconst ObjectDetectionVideo = React.memo(\r\n  ({ model, onPrediction, fit, mirrored, render }) => {\r\n    const [personWithMask, setPersonWithMask] = useState(0);\r\n    const [personWithoutMask, setPersonWithoutMask] = useState(0);\r\n    const videoRef = useRef();\r\n    const canvasRef = useRef();\r\n\r\n    const { count, setCount } = useCount();\r\n\r\n    useWebcam(videoRef, () => {\r\n      detectFrame();\r\n    })\r\n\r\n    const detectFrame = useCallback(async () => {\r\n      if(model){\r\n        const predictions = await model.detect(videoRef.current);\r\n\r\n        if (onPrediction) {\r\n          onPrediction(predictions);\r\n        }\r\n        const wantedWidth = videoRef.current.offsetWidth;\r\n\r\n        const wantedHeight = videoRef.current.offsetHeight;\r\n        const videoWidth = videoRef.current.videoWidth;\r\n        const videoHeight = videoRef.current.videoHeight;\r\n\r\n        const scaleX = wantedWidth / videoWidth;\r\n        const scaleY = wantedHeight / videoHeight;\r\n\r\n        let scale;\r\n        if (fit === 'aspectFit') {\r\n          scale = Math.min(scaleX, scaleY);\r\n        } else {\r\n          scale = Math.max(scaleX, scaleY);\r\n        }\r\n\r\n        const xOffset = (wantedWidth - videoWidth * scale) / 2;\r\n        const yOffset = (wantedHeight - videoHeight * scale) / 2;\r\n\r\n        const ctx = getRetinaContext(canvasRef.current);\r\n\r\n        ctx.setWidth(wantedWidth);\r\n        ctx.setHeight(wantedHeight);\r\n        ctx.clearAll();\r\n\r\n        // Update predictions to match canvas.\r\n        const offsetPredictions = predictions.map((prediction) => {\r\n          let x = prediction.bbox[0] * scale + xOffset;\r\n          const y = prediction.bbox[1] * scale + yOffset;\r\n          const width = prediction.bbox[2] * scale;\r\n          const height = prediction.bbox[3] * scale;\r\n\r\n          if (mirrored) {\r\n            x = wantedWidth - x - width;\r\n          }\r\n          return { ...prediction, bbox: [x, y, width, height] };\r\n        });\r\n\r\n        const withMask = predictions.filter((prediction, index, array) => prediction.class === 'Com mascara');\r\n        const withoutMask = predictions.filter((prediction, index, array) => prediction.class === 'Sem mascara');\r\n\r\n        setCount(predictions.length);\r\n        setPersonWithMask(withMask.length);\r\n        setPersonWithoutMask(withoutMask.length);\r\n        const renderFunction = render || renderPredictions;\r\n\r\n        renderFunction(ctx, offsetPredictions);\r\n        requestAnimationFrame(() => {\r\n          detectFrame();\r\n        });\r\n      }\r\n    }, [fit, mirrored, model, onPrediction, render, setCount]);\r\n\r\n    if (canvasRef.current) {\r\n      canvasRef.current.style.position = 'absolute';\r\n      canvasRef.current.style.left = '0';\r\n      canvasRef.current.style.top = '0';\r\n    }\r\n\r\n    if (videoRef.current) {\r\n      videoRef.current.style.width = '50%';\r\n      videoRef.current.style.height = '50%';\r\n      if (fit === 'aspectFit') {\r\n        videoRef.current.style.objectFit = 'contain';\r\n      } else {\r\n        videoRef.current.style.objectFit = 'cover';\r\n      }\r\n\r\n      if (mirrored) {\r\n        videoRef.current.style.transform = 'scaleX(-1)';\r\n      } else {\r\n        videoRef.current.style.transform = 'scaleX(1)';\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div style={{ display: 'flex', flexDirection: 'row', position: 'relative' }}>\r\n        <video controls autoPlay playsInline ref={videoRef} src={video} muted/>\r\n        <canvas ref={canvasRef} />\r\n        <Info personWithMask={personWithMask} personWithoutMask={personWithoutMask} count={count} />\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nexport default ObjectDetectionVideo;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n    margin-top: 30px;\r\n\r\n    hr {\r\n        border: 0;\r\n        height: 0;\r\n        border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n        border-bottom: 1px solid rgba(255, 255, 255, 0.3);\r\n    }\r\n\r\n    h1 {\r\n        font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n        font-size: 35px;\r\n        color: #333;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    img {\r\n        width: 1200px;\r\n        height: 700px;\r\n    }\r\n\r\n    svg {\r\n        margin-top: 20px;\r\n        position: absolute;\r\n        left: 10px;\r\n    }\r\n`;\r\n\r\nexport const Quadrado = styled.rect`\r\n    fill: ${props => (props.count > 1 ? 'red': 'green')};\r\n    stroke-width:5;\r\n    opacity:0.5\r\n`;","import React from 'react';\r\nimport mapImage from '../../uploads/images/map.jpg';\r\nimport { Container, Quadrado } from './styles';\r\nimport { useCount } from '../../context/Count';\r\n\r\n\r\nfunction Map() {\r\n    const { count } = useCount();\r\n\r\n    return (\r\n        <Container>\r\n            <hr/>\r\n            <h1>Camera heat map:</h1>\r\n            <img src={mapImage} alt=\"Map\" />\r\n            <svg width=\"400\" height=\"330\">\r\n                <Quadrado width=\"400\" height=\"400\" count={count}/>\r\n            </svg>\r\n        </Container>\r\n    );  \r\n}\r\n\r\nexport default Map;","import styled from 'styled-components';\r\n\r\nexport const Content = styled.div`\r\n    padding: 10px;\r\n`;","import React from 'react';\r\n\r\nimport useModel from '../../useModel';\r\nimport ObjectDetectionVideo from '../../cloudAnnotation/ObjectDetectionVideo';\r\nimport CountProvider from '../../context/Count';\r\n\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport Map from '../../components/Map';\r\n\r\nimport { Content } from './styles';\r\n\r\nexport default function Detection() {\r\n    const model = useModel(process.env.PUBLIC_URL + '/model_web');\r\n\r\n    return (\r\n        <CountProvider>\r\n            <div className=\"fillPage\">\r\n                <Header />\r\n                <Content>\r\n                <ObjectDetectionVideo\r\n                    model={model}\r\n                    fit=\"aspectFit\"\r\n                    mirrored\r\n                />\r\n                <Map/>\r\n                </Content>\r\n                <Footer/>\r\n            </div>\r\n        </CountProvider>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Home from './pages/Home';\r\nimport Detection from './pages/Detection';\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <Route path=\"/detection\" component={Detection} />\r\n        </Switch>\r\n    );\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Router } from 'react-router-dom';\r\n\r\nimport Routes from './routes';\r\nimport history from './config/history';\r\n\r\nimport './index.css';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router history={history}>\r\n        <Routes />\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}